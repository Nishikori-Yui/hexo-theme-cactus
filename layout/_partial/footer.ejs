<%
const currentPath = (url_for(page.path) || '/').replace(/^https?:\/\/[^/]+/, '/');
const isEN = currentPath.startsWith('/en-US/');
// 只跳語言首頁
const langSwitchHref = isEN ? '/zh-CN/' : '/en-US/';
const langSwitchLabel = isEN ? '中文' : 'English';
const langSwitchHreflang = isEN ? 'zh-CN' : 'en-US';
%>
<footer id="footer">
  <div class="footer-left">
    <%= __('footer.copyright') %> &copy;
    <% var endYear = (theme.copyright && theme.copyright.end_year) ? theme.copyright.end_year : new Date().getFullYear() %>
    <% var startYear = (theme.copyright && theme.copyright.start_year) ? theme.copyright.start_year : new Date().getFullYear() %>
    <%= startYear >= endYear ? endYear : startYear + "-" + endYear %>
    <%= config.author || config.title %>
  </div>

  <div class="footer-right">
    <nav>
      <ul>
        <% for (var i in theme.nav) { %><!--
       --><li><a href="<%- url_for(theme.nav[i]) %>"><%= __('nav.'+i).replace("nav.", "") %></a></li><!--
     --><% } %>
        <!-- language switch in footer -->
        <li class="lang-switch">
          <a href="<%- langSwitchHref %>" hreflang="<%= langSwitchHreflang %>" aria-label="Switch language to <%= langSwitchLabel %>"><%= langSwitchLabel %></a>
        </li>
      </ul>
    </nav>
  </div>
</footer>
